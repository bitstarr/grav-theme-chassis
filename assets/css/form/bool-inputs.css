@supports(-webkit-appearance: none) or (-moz-appearance: none) {
    .form {
        input[type='checkbox'],
        input[type='radio'] {
            appearance: none;
            position: relative;
            display: inline-block;
            height: 1.2em;
            width: 1.2em;
            margin: 0;
            vertical-align: top;
            background: var( --_background, var( --o-form-surface ) );
            border: .1em solid var( --_bordercolor, var( --_form-border ) );
            box-shadow: 0 0 0 transparent;
            transition: background .3s, border-color .3s, box-shadow .2s;
            cursor: pointer;
            /* outline: none; */ /* focus box-shadow is nice but in form.css there is a good help for a11y. You may want to do you own way though? */

            &:checked {
                --_background: var( --_form-active );
                --_bordercolor: var( --_form-active );
                --d-o: .3s;
                --d-t: .6s;
                --d-t-e: cubic-bezier( .2, .85, .32, 1.2 );
            }

            &:disabled {
                --_background: var( --_form-disabled );
                --_form-border: var( --_form-disabled-border );
                opacity: .9;
                cursor: not-allowed;

                &:checked {
                    --_background: var( --_form-on-disabled );
                    --_bordercolor: var( --_form-border );
                }

                & + label {
                    cursor: not-allowed;
                }
            }

            &:hover {
                &:not(:checked) {
                    &:not(:disabled) {
                        --_bordercolor: var( --_form-border-light );
                    }
                }
            }

            &:focus {
                box-shadow: 0 0 0 .1em hsl( var( --o-form-accent-hsl ) / .3 );
            }

            &:not( .special ) + label {
                display: inline-block;
                margin-left: .3em;
                padding: .2em 1.2em .2em 0;
                line-height: 1;
                vertical-align: top;
                cursor: pointer;
            }
        }

        input[type='checkbox'] {
            &:after {
                content: '';
                position: absolute;
                left: 0;
                top: 0;
                display: block;
                transition: opacity var( --d-o, .2s );
            }
            &:not(.switch) {
                border-radius: .2em;

                &:after {
                    left: 50%;
                    top: 45%;
                    width: .4em;
                    height: .7em;
                    border: .15em solid var( --_form-on-active );
                    border-top: 0;
                    border-left: 0;
                    opacity: var( --o, 0 );
                    transform: translate( -50%, -50% ) rotate( 43deg );
                }

                &:checked {
                    --o: 1;
                }
            }

            &.switch {
                width: 2.6em;
                border-radius: .7em;

                &:after {
                    left: .2em;
                    top: 50%;
                    width: .65em;
                    height: .65em;
                    background: var( --ab, var( --_form-border ) );
                    border-radius: 50%;
                    transform: translate( var( --x, 0 ), -50% );
                    transition: transform var( --d-t, .3s ) var( --d-t-e, ease );
                }

                &:checked {
                    --ab: var( --_form-on-active );
                    --x: 1.3em;
                }

                &:disabled {
                    &:not(:checked) {
                        &:after {
                            opacity: .6;
                        }
                    }
                }
            }
        }

        input[type='radio'] {
            border-radius: 50%;

            &:checked {
                --_background: radial-gradient(circle, var( --_form-on-active ) 0%, var( --_form-on-active ) .25em, var( --_form-active ) .27em );
            }
            &:disabled:checked {
                --_background: radial-gradient(circle, var( --_form-on-disabled ) 0%, var( --_form-on-disabled ) .25em, var( --_form-disabled ) .27em );
            }
        }
    }
}